<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>mybatis逆向工程</title>
    <url>/2020/05/25/mybatis-generator/</url>
    <content><![CDATA[<h1 id="1-导入mybatis以及generator插件的依赖包，并配置。引入SQL相关依赖包-下边没有sql包"><a href="#1-导入mybatis以及generator插件的依赖包，并配置。引入SQL相关依赖包-下边没有sql包" class="headerlink" title="1.导入mybatis以及generator插件的依赖包，并配置。引入SQL相关依赖包(下边没有sql包)"></a>1.导入mybatis以及generator插件的依赖包，并配置。引入SQL相关依赖包(下边没有sql包)</h1><figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="comment">//mybatis依赖包</span></span><br><span class="line">		&lt;dependency&gt;</span><br><span class="line">			&lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt;</span><br><span class="line">			&lt;version&gt;1.4.0&lt;/version&gt;</span><br><span class="line">		&lt;/dependency&gt;</span><br><span class="line">		</span><br><span class="line">	<span class="comment">//generator依赖包，配置</span></span><br><span class="line">		&lt;dependency&gt;</span><br><span class="line">			&lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt;</span><br><span class="line">			&lt;version&gt;1.4.0&lt;/version&gt;</span><br><span class="line">		&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">		&lt;plugin&gt;</span><br><span class="line">			&lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">			&lt;version&gt;1.4.0&lt;/version&gt;</span><br><span class="line">		&lt;/plugin&gt;</span><br><span class="line"></span><br><span class="line">		&lt;plugin&gt;</span><br><span class="line">			&lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">			&lt;version&gt;1.4.0&lt;/version&gt;</span><br><span class="line">			&lt;configuration&gt;</span><br><span class="line">			&lt;overwrite&gt;true&lt;/overwrite&gt;</span><br><span class="line">				<span class="comment">//generatorConfig.xmk配置文件的路径</span></span><br><span class="line">				&lt;configurationFile&gt;src/main/resources/generatorConfig.xml&lt;/configurationFile&gt;</span><br><span class="line">			&lt;/configuration&gt;</span><br><span class="line">		&lt;/plugin&gt;</span><br></pre></td></tr></table></figure><a id="more"></a>

<h1 id="2-创建数据库"><a href="#2-创建数据库" class="headerlink" title="2.创建数据库"></a>2.创建数据库</h1><p>自行创建</p>
<h1 id="3-添加generatorConfig-xml配置文件"><a href="#3-添加generatorConfig-xml配置文件" class="headerlink" title="3.添加generatorConfig.xml配置文件"></a>3.添加generatorConfig.xml配置文件</h1><p>MySQL官网下载mysql-connector-java-8.0.20.jar驱动包  添加如下配置文件(后面会配置扫描路径)</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">		&lt;!DOCTYPE generatorConfiguration</span><br><span class="line">				PUBLIC <span class="string">"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"</span></span><br><span class="line">				<span class="string">"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"</span>&gt;</span><br><span class="line">		&lt;generatorConfiguration&gt;</span><br><span class="line">			&lt;!-- 数据库驱动:选择你的本地硬盘上面的数据库驱动包--&gt;</span><br><span class="line">			&lt;classPathEntry location=<span class="string">"F:/SQL/MySQL/mysql-connector-java-8.0.20/mysql-connector-java-8.0.20.jar"</span>/&gt;</span><br><span class="line">			&lt;context id=<span class="string">"DB2Tables"</span> targetRuntime=<span class="string">"MyBatis3"</span>&gt;</span><br><span class="line">				&lt;!-- JavaBean 实现 序列化 接口 --&gt;</span><br><span class="line">				&lt;plugin type=<span class="string">"org.mybatis.generator.plugins.SerializablePlugin"</span> /&gt;</span><br><span class="line">				&lt;!-- 生成toString --&gt;</span><br><span class="line">				&lt;plugin type=<span class="string">"org.mybatis.generator.plugins.ToStringPlugin"</span> /&gt;</span><br><span class="line">				&lt;!-- optional，旨在创建<span class="class"><span class="keyword">class</span>时，对注释进行控制 --&gt;</span></span><br><span class="line"><span class="class">				&lt;<span class="title">commentGenerator</span>&gt;</span></span><br><span class="line"><span class="class">					&lt;<span class="title">property</span> <span class="title">name</span></span>=<span class="string">"suppressDate"</span> value=<span class="string">"true"</span>/&gt;</span><br><span class="line">					&lt;!-- &lt;property name=<span class="string">"suppressAllComments"</span> value=<span class="string">"true"</span>/&gt;--&gt;</span><br><span class="line">					&lt;property name=<span class="string">"suppressAllComments"</span> value=<span class="string">"true"</span> /&gt;</span><br><span class="line">				&lt;/commentGenerator&gt;</span><br><span class="line">				&lt;!--数据库链接URL，用户名、密码 --&gt;</span><br><span class="line">				&lt;jdbcConnection</span><br><span class="line">						driverClass=<span class="string">"com.mysql.cj.jdbc.Driver"</span></span><br><span class="line">						connectionURL=<span class="string">"jdbc:mysql://localhost:3306/ssmdb?serverTimezone=UTC"</span></span><br><span class="line">						userId=<span class="string">"root"</span></span><br><span class="line">						password=<span class="string">"数据库密码"</span>&gt;</span><br><span class="line">					&lt;property name=<span class="string">"nullCatalogMeansCurrent"</span> value=<span class="string">"true"</span>/&gt;</span><br><span class="line">				&lt;/jdbcConnection&gt;</span><br><span class="line">				&lt;!-- 类型转换 --&gt;</span><br><span class="line">				&lt;javaTypeResolver &gt;</span><br><span class="line">					&lt;!-- 是否使用bigDecimal,</span><br><span class="line">						<span class="keyword">false</span>: 把JDBC DECIMAL 和 NUMERIC 类型解析为 Integer(默认)</span><br><span class="line">						<span class="keyword">true</span>:  把JDBC DECIMAL 和 NUMERIC 类型解析为java.math.BigDecimal</span><br><span class="line">					--&gt;</span><br><span class="line">					&lt;property name=<span class="string">"forceBigDecimals"</span> value=<span class="string">"false"</span> /&gt;</span><br><span class="line">				&lt;/javaTypeResolver&gt;</span><br><span class="line">				&lt;!-- 生成模型的包名和位置--&gt;</span><br><span class="line">				&lt;javaModelGenerator targetPackage=<span class="string">"com.example.springbootdemo3logger.Model"</span> targetProject=<span class="string">"src/main/java"</span>&gt;</span><br><span class="line">					&lt;!-- 默认<span class="keyword">false</span> 是否允许子包 --&gt;</span><br><span class="line">					&lt;property name=<span class="string">"enableSubPackages"</span> value=<span class="string">"true"</span> /&gt;</span><br><span class="line">					&lt;!-- 默认<span class="keyword">false</span> 是否对model添加 构造函数 --&gt;</span><br><span class="line">					&lt;property name=<span class="string">"constructorBased"</span> value=<span class="string">"false"</span>/&gt;</span><br><span class="line">					&lt;!-- 默认<span class="keyword">false</span> 建立的Model对象是否 不可改变  即生成的Model对象不会有 setter方法，只有构造方法 --&gt;</span><br><span class="line">					&lt;property name=<span class="string">"immutable"</span> value=<span class="string">"false"</span>/&gt;</span><br><span class="line">					&lt;!-- 默认<span class="keyword">false</span> 是否对类CHAR类型的列的数据进行trim操作 --&gt;</span><br><span class="line">					&lt;property name=<span class="string">"trimStrings"</span> value=<span class="string">"true"</span> /&gt;</span><br><span class="line">				&lt;/javaModelGenerator&gt;</span><br><span class="line">				&lt;!-- 生成映射文件的包名和位置--&gt;</span><br><span class="line">				&lt;sqlMapGenerator targetPackage=<span class="string">"Mapper"</span> targetProject=<span class="string">"src/main/resources"</span>&gt;</span><br><span class="line">					&lt;property name=<span class="string">"enableSubPackages"</span> value=<span class="string">"true"</span>/&gt;</span><br><span class="line">				&lt;/sqlMapGenerator&gt;</span><br><span class="line">				&lt;!-- 生成DAO的包名和位置--&gt;</span><br><span class="line">				&lt;javaClientGenerator type=<span class="string">"XMLMAPPER"</span> targetPackage=<span class="string">"com.example.springbootdemo3logger.Dao"</span> targetProject=<span class="string">"src/main/java"</span>&gt;</span><br><span class="line">					&lt;property name=<span class="string">"enableSubPackages"</span> value=<span class="string">"true"</span>/&gt;</span><br><span class="line">				&lt;/javaClientGenerator&gt;</span><br><span class="line">				&lt;!-- 要生成的表 tableName是数据库中的表名或视图名 domainObjectName是实体类名--&gt;</span><br><span class="line">				&lt;!-- &lt;table tableName="risk_model_order" domainObjectName="DSRiskModelOrder" enableCountByExample="false" enableUpdateByExample="false" enableDeleteByExample="false" enableSelectByExample="false" selectByExampleQueryId="false"&gt;&lt;/table&gt;</span><br><span class="line">				 &lt;table tableName="tel_bill_record" domainObjectName="DSTelBillRecord" enableCountByExample="false" enableUpdateByExample="false" enableDeleteByExample="false" enableSelectByExample="false" selectByExampleQueryId="false"&gt;&lt;/table&gt;--&gt;</span><br><span class="line">				&lt;table tableName="表名" domainObjectName="生成的文件名"&gt;&lt;/table&gt;</span><br><span class="line">				&lt;table tableName="S_USER" domainObjectName="SsmUser"&gt;&lt;/table&gt;</span><br><span class="line">			&lt;/context&gt;</span><br><span class="line">&lt;/generatorConfiguration&gt;</span><br></pre></td></tr></table></figure>

<h1 id="4-application-properties或者application-yml文件配置数据库链接-mysql"><a href="#4-application-properties或者application-yml文件配置数据库链接-mysql" class="headerlink" title="4.application.properties或者application.yml文件配置数据库链接(mysql)"></a>4.application.properties或者application.yml文件配置数据库链接(mysql)</h1><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">spring.datasource.driver-class-name</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="meta">spring.datasource.url</span>=<span class="string">jdbc:mysql://127.0.0.1:3306/数据库名?&amp;serverTimezone=GMT</span></span><br><span class="line"><span class="meta">spring.datasource.username</span>=<span class="string">root</span></span><br><span class="line"><span class="meta">spring.datasource.password</span>=<span class="string">ywcc</span></span><br><span class="line">		</span><br><span class="line"><span class="comment">#在application.properties配置文件中配置扫描路径</span></span><br><span class="line"><span class="meta">mybatis.mapper-locations</span>= <span class="string">classpath:/Mapper/*.xml</span></span><br></pre></td></tr></table></figure>

<h1 id="5运行"><a href="#5运行" class="headerlink" title="5运行"></a>5运行</h1><p>右侧点击Maven&gt;项目名&gt;Plugins&gt;mybatis-generator双击运行mybatis-generator:generator</p>
<p> Emmet：<img src="/2020/05/25/mybatis-generator/image-20200525221924456.png" alt="图"></p>
]]></content>
  </entry>
</search>
